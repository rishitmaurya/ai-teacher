<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Teacher - Text-to-Speech</title>
  <!-- <link rel="stylesheet" href="styles.css" /> -->
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 15px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      padding: 40px;
    }

    h1 {
      color: #333;
      margin-bottom: 10px;
      text-align: center;
      font-size: 2.5em;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1em;
    }

    .form-group {
      margin-bottom: 25px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 1.05em;
    }

    textarea#textInput {
      width: 100%;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      font-family: inherit;
      min-height: 120px;
      resize: vertical;
      transition: border-color 0.3s;
    }

    textarea#textInput:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    input[type="text"],
    select {
      width: 100%;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      font-family: inherit;
      transition: border-color 0.3s;
    }

    input[type="text"]:focus,
    select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .controls-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 25px;
    }

    @media (max-width: 600px) {
      .controls-grid {
        grid-template-columns: 1fr;
      }
    }

    .button-group {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
    }

    button {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 1.05em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    #speakBtn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    #speakBtn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
    }

    #speakBtn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    #pauseBtn {
      background: #f39c12;
      color: white;
    }

    #pauseBtn:hover:not(:disabled) {
      background: #e67e22;
    }

    #stopBtn {
      background: #e74c3c;
      color: white;
    }

    #stopBtn:hover:not(:disabled) {
      background: #c0392b;
    }

    #raiseHandBtn {
      background: #3498db;
      color: white;
    }

    #raiseHandBtn:hover:not(:disabled) {
      background: #2980b9;
    }

    .audio-player {
      width: 100%;
      margin-bottom: 25px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }

    audio {
      width: 100%;
    }

    #status {
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-weight: 500;
      text-align: center;
      min-height: 24px;
    }

    #status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    #status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    #status.info {
      background: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }

    .settings {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 25px;
    }

    .settings h3 {
      color: #333;
      margin-bottom: 15px;
      font-size: 1.1em;
    }

    .settings-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    @media (max-width: 600px) {
      .settings-grid {
        grid-template-columns: 1fr;
      }
    }

    .slider-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    input[type="range"] {
      cursor: pointer;
    }

    .slider-value {
      font-size: 0.9em;
      color: #666;
    }

    .info-box {
      background: #e8f4f8;
      border-left: 4px solid #3498db;
      padding: 15px;
      margin-top: 20px;
      border-radius: 4px;
      font-size: 0.95em;
      color: #333;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>üéôÔ∏è AI Teacher</h1>
    <p class="subtitle">Text-to-Speech with Google Generative AI</p>

    <!-- Status Messages -->
    <div id="status"></div>

    <!-- Main Content Area -->
    <div class="form-group">
      <label for="textInput">üìù Enter Text to Speak:</label>
      <textarea
        id="textInput"
        placeholder="Type or paste your text here. The AI will read it aloud with appropriate emotions and style..."
      ></textarea>
    </div>

    <!-- Style/Emotion Prompt -->
    <div class="form-group">
      <label for="promptInput">üé≠ Style Prompt (Optional):</label>
      <input
        id="promptInput"
        type="text"
        placeholder="Example: Read aloud like an experienced teacher explaining to students"
        value="Read aloud like an experienced teacher explaining to students"
      />
    </div>

    <!-- Advanced Settings -->
    <div class="settings">
      <h3>‚öôÔ∏è Advanced Settings</h3>
      <div class="settings-grid">
        <div class="form-group">
          <label for="voiceSelect">Voice:</label>
          <select id="voiceSelect">
            <option value="Achernar">Achernar</option>
            <option value="Altair">Altair</option>
            <option value="Vega">Vega</option>
          </select>
        </div>

        <div class="form-group">
          <label for="modelSelect">Model:</label>
          <select id="modelSelect">
            <option value="gemini-2.5-pro-tts">Gemini 2.5 Pro TTS</option>
            <option value="gemini-1">Gemini 1</option>
          </select>
        </div>

        <div class="form-group">
          <label for="languageSelect">Language:</label>
          <select id="languageSelect">
            <option value="en-US">English (US)</option>
            <option value="en-GB">English (UK)</option>
            <option value="es-ES">Spanish</option>
            <option value="fr-FR">French</option>
            <option value="de-DE">German</option>
          </select>
        </div>

        <div class="form-group">
          <label for="encodingSelect">Audio Format:</label>
          <select id="encodingSelect">
            <option value="LINEAR16">WAV (LINEAR16)</option>
            <option value="MP3">MP3</option>
            <option value="ALAW">A-law</option>
            <option value="MULAW">Mu-law</option>
          </select>
        </div>

        <div class="slider-group">
          <label for="pitchSlider">Pitch:</label>
          <input
            id="pitchSlider"
            type="range"
            min="-20"
            max="20"
            value="0"
            step="1"
          />
          <span class="slider-value">Value: <span id="pitchValue">0</span></span>
        </div>

        <div class="slider-group">
          <label for="speedSlider">Speaking Speed:</label>
          <input
            id="speedSlider"
            type="range"
            min="0.25"
            max="4"
            value="1"
            step="0.25"
          />
          <span class="slider-value">Value: <span id="speedValue">1.0x</span></span>
        </div>
      </div>
    </div>

    <!-- Buttons -->
    <div class="button-group">
      <button id="speakBtn">üîä Speak</button>
      <button id="pauseBtn">‚è∏Ô∏è Pause</button>
      <button id="stopBtn">‚èπÔ∏è Stop</button>
      <button id="raiseHandBtn">‚úã Raise Hand</button>
    </div>

    <!-- Audio Player -->
    <div class="audio-player">
      <audio id="audioPlayer" controls></audio>
    </div>

    <!-- Info -->
    <div class="info-box">
      <strong>üí° Tips:</strong><br />
      ‚Ä¢ Use style prompts like "read in a warm tone" or "read like a scholar" to adjust voice emotions<br />
      ‚Ä¢ Adjust pitch and speed to customize the audio<br />
      ‚Ä¢ The API will automatically detect the context and adjust voice tone<br />
      ‚Ä¢ Maximum text length: 5000 characters
    </div>
  </div>

  <script src="client.js"></script>
  <script>
    // Setup UI event listeners
    document.getElementById("pitchSlider").addEventListener("input", (e) => {
      document.getElementById("pitchValue").textContent = e.target.value;
    });

    document.getElementById("speedSlider").addEventListener("input", (e) => {
      document.getElementById("speedValue").textContent = (
        parseFloat(e.target.value).toFixed(2) + "x"
      );
    });

    document.getElementById("pauseBtn").addEventListener("click", () => {
      const audio = document.getElementById("audioPlayer");
      if (audio.paused) {
        audio.play();
        document.getElementById("pauseBtn").textContent = "‚è∏Ô∏è Pause";
      } else {
        audio.pause();
        document.getElementById("pauseBtn").textContent = "‚ñ∂Ô∏è Resume";
      }
    });

    document.getElementById("stopBtn").addEventListener("click", () => {
      const audio = document.getElementById("audioPlayer");
      audio.pause();
      audio.currentTime = 0;
      document.getElementById("pauseBtn").textContent = "‚è∏Ô∏è Pause";
      updateStatus("Stopped", "info");
    });

    document.getElementById("raiseHandBtn").addEventListener("click", () => {
      updateStatus("Hand raise feature coming soon!", "info");
    });

    // Helper function to update status
    function updateStatus(message, type = "info") {
      const statusBox = document.getElementById("status");
      statusBox.textContent = message;
      statusBox.className = type;
    }

    // Update the speakBtn click handler to use updateStatus
    
  </script>
</body>
</html>
